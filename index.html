<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MARKTOS | The 25-Layer Marketing Genome</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        kernel: { primary: '#7C3AED', secondary: '#4F46E5', accent: '#06B6D4' }
                    }
                }
            }
        }
    </script>
    <style>
        * { font-family: 'Inter', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }

        @keyframes gradientRotate {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .gradient-bg {
            background: linear-gradient(-45deg, #0f0f23, #1a1a3e, #2d1b4e, #1e3a5f, #0f0f23);
            background-size: 400% 400%;
            animation: gradientRotate 15s ease infinite;
        }

        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .glass-dark {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .glow-purple { box-shadow: 0 0 30px rgba(124, 58, 237, 0.3); }
        .glow-cyan { box-shadow: 0 0 30px rgba(6, 182, 212, 0.3); }

        .nav-section { border-left: 2px solid rgba(255,255,255,0.1); padding-left: 12px; margin-left: 8px; }
        .nav-item { transition: all 0.2s; }
        .nav-item:hover { background: rgba(255,255,255,0.1); }
        .nav-item.active { background: rgba(124, 58, 237, 0.3); border-left: 2px solid #7C3AED; }

        .stat-card:hover { transform: translateY(-2px); box-shadow: 0 10px 40px rgba(124, 58, 237, 0.2); }

        .layer-badge { font-size: 10px; padding: 2px 6px; border-radius: 4px; }
        .layer-0-4 { background: rgba(239, 68, 68, 0.3); color: #fca5a5; }
        .layer-5-8 { background: rgba(245, 158, 11, 0.3); color: #fcd34d; }
        .layer-9-12 { background: rgba(34, 197, 94, 0.3); color: #86efac; }
        .layer-13-16 { background: rgba(59, 130, 246, 0.3); color: #93c5fd; }
        .layer-17-20 { background: rgba(168, 85, 247, 0.3); color: #d8b4fe; }
        .layer-21-25 { background: rgba(236, 72, 153, 0.3); color: #f9a8d4; }

        .pulse { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: rgba(0,0,0,0.2); }
        ::-webkit-scrollbar-thumb { background: rgba(124, 58, 237, 0.5); border-radius: 4px; }
    </style>
</head>
<body class="gradient-bg text-white min-h-screen">

    <!-- KERNEL STATUS BAR -->
    <div class="fixed top-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-600 via-indigo-500 to-cyan-400 z-50"></div>

    <div class="flex min-h-screen">

        <!-- SIDEBAR -->
        <aside class="w-64 glass-dark flex flex-col fixed left-0 top-0 bottom-0 z-40 overflow-y-auto">

            <!-- LOGO -->
            <div class="p-6 border-b border-white/10">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-cyan-400 rounded-lg flex items-center justify-center">
                        <span class="mono font-bold text-lg">M</span>
                    </div>
                    <div>
                        <div class="mono font-bold text-lg">MARKTOS</div>
                        <div class="text-xs text-gray-400">25-Layer Genome</div>
                    </div>
                </div>
            </div>

            <!-- KERNEL STATUS -->
            <div class="p-4 mx-4 mt-4 glass rounded-lg">
                <div class="flex items-center gap-2 mb-2">
                    <div class="w-2 h-2 rounded-full bg-green-400 pulse"></div>
                    <span class="mono text-xs text-green-400">KERNEL ACTIVE</span>
                </div>
                <div class="text-xs text-gray-400">Trust Level: L0_GOVERNANCE</div>
                <div class="text-xs text-gray-400">Session: VALID</div>
            </div>

            <!-- NAVIGATION -->
            <nav class="flex-1 p-4 space-y-6 overflow-y-auto">

                <!-- COMMAND CENTER -->
                <div>
                    <div class="nav-item active flex items-center gap-3 p-3 rounded-lg cursor-pointer" onclick="showLayer('dashboard')">
                        <span>üìä</span>
                        <span class="text-sm font-medium">Command Center</span>
                    </div>
                </div>

                <!-- LAYER 0-4: FOUNDATION -->
                <div>
                    <div class="flex items-center gap-2 mb-2 px-3">
                        <span class="layer-badge layer-0-4 mono">L0-4</span>
                        <span class="text-xs text-gray-400 uppercase tracking-wider">Foundation</span>
                    </div>
                    <div class="nav-section space-y-1">
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('kernel')">
                            <span>üß¨</span><span>Kernel Monitor</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('identity')">
                            <span>üë§</span><span>Identity</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('segmentation')">
                            <span>üéØ</span><span>Segmentation</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('data')">
                            <span>üíæ</span><span>Data Architecture</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('channels')">
                            <span>üì°</span><span>Channels</span>
                        </div>
                    </div>
                </div>

                <!-- LAYER 5-8: CONTENT & AUTOMATION -->
                <div>
                    <div class="flex items-center gap-2 mb-2 px-3">
                        <span class="layer-badge layer-5-8 mono">L5-8</span>
                        <span class="text-xs text-gray-400 uppercase tracking-wider">Content</span>
                    </div>
                    <div class="nav-section space-y-1">
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('content')">
                            <span>üìù</span><span>Content Engine</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('personalization')">
                            <span>‚ú®</span><span>Personalization</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('campaigns')">
                            <span>üöÄ</span><span>Campaigns</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('automation')">
                            <span>‚ö°</span><span>Automation</span>
                        </div>
                    </div>
                </div>

                <!-- LAYER 9-12: LEAD MANAGEMENT -->
                <div>
                    <div class="flex items-center gap-2 mb-2 px-3">
                        <span class="layer-badge layer-9-12 mono">L9-12</span>
                        <span class="text-xs text-gray-400 uppercase tracking-wider">Leads</span>
                    </div>
                    <div class="nav-section space-y-1">
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('leads')">
                            <span>üß≤</span><span>Lead Capture</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('scoring')">
                            <span>üìà</span><span>Lead Scoring</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('testing')">
                            <span>üß™</span><span>A/B Testing</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('analytics')">
                            <span>üìä</span><span>Analytics</span>
                        </div>
                    </div>
                </div>

                <!-- LAYER 13-16: COMPLIANCE & DELIVERY -->
                <div>
                    <div class="flex items-center gap-2 mb-2 px-3">
                        <span class="layer-badge layer-13-16 mono">L13-16</span>
                        <span class="text-xs text-gray-400 uppercase tracking-wider">Compliance</span>
                    </div>
                    <div class="nav-section space-y-1">
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('compliance')">
                            <span>üîí</span><span>Compliance</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('integrations')">
                            <span>üîó</span><span>Integrations</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('deliverability')">
                            <span>üì¨</span><span>Deliverability</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('audience')">
                            <span>üß†</span><span>Audience Intel</span>
                        </div>
                    </div>
                </div>

                <!-- LAYER 17-20: REVENUE & STRATEGY -->
                <div>
                    <div class="flex items-center gap-2 mb-2 px-3">
                        <span class="layer-badge layer-17-20 mono">L17-20</span>
                        <span class="text-xs text-gray-400 uppercase tracking-wider">Revenue</span>
                    </div>
                    <div class="nav-section space-y-1">
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('revenue')">
                            <span>üí∞</span><span>Revenue Intel</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('journeys')">
                            <span>üó∫Ô∏è</span><span>Journeys</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('abm')">
                            <span>üè¢</span><span>ABM</span>
                        </div>
                    </div>
                </div>

                <!-- LAYER 21-25: PLATFORM -->
                <div>
                    <div class="flex items-center gap-2 mb-2 px-3">
                        <span class="layer-badge layer-21-25 mono">L21-25</span>
                        <span class="text-xs text-gray-400 uppercase tracking-wider">Platform</span>
                    </div>
                    <div class="nav-section space-y-1">
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('experiments')">
                            <span>üî¨</span><span>Experiments</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('realtime')">
                            <span>‚ö°</span><span>Real-Time</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('privacy')">
                            <span>üõ°Ô∏è</span><span>Privacy</span>
                        </div>
                        <div class="nav-item flex items-center gap-3 p-2 rounded cursor-pointer text-sm text-gray-300" onclick="showLayer('governance')">
                            <span>‚öôÔ∏è</span><span>Governance</span>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- SIDEBAR FOOTER -->
            <div class="p-4 border-t border-white/10">
                <div class="text-xs text-gray-500 mono">
                    <div>VALIDKERNEL</div>
                    <div>Deterministic Trust</div>
                </div>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="flex-1 ml-64 p-8">

            <!-- HEADER -->
            <header class="flex items-center justify-between mb-8">
                <div>
                    <h1 class="text-3xl font-bold mono" id="page-title">COMMAND CENTER</h1>
                    <p class="text-gray-400 mt-1" id="page-subtitle">Marketing Genome Dashboard</p>
                </div>
                <div class="flex items-center gap-4">
                    <div class="glass rounded-lg px-4 py-2 text-sm">
                        <span class="text-gray-400">Role:</span>
                        <span class="text-purple-400 mono ml-2">SUPER_ADMIN</span>
                    </div>
                    <button class="glass rounded-lg px-4 py-2 text-sm hover:bg-white/10 transition">
                        <span class="text-gray-400">üîî</span>
                    </button>
                    <div class="w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-cyan-400"></div>
                </div>
            </header>

            <!-- DASHBOARD CONTENT -->
            <div id="content-dashboard" class="layer-content">

                <!-- GENOME HEALTH -->
                <div class="grid grid-cols-5 gap-4 mb-8">
                    <div class="glass rounded-xl p-6 stat-card transition cursor-pointer glow-purple">
                        <div class="text-xs text-gray-400 uppercase tracking-wider mb-2">Total Contacts</div>
                        <div class="text-3xl font-bold mono">247,892</div>
                        <div class="text-xs text-green-400 mt-2">‚Üë 12.4% this month</div>
                    </div>
                    <div class="glass rounded-xl p-6 stat-card transition cursor-pointer">
                        <div class="text-xs text-gray-400 uppercase tracking-wider mb-2">Active Campaigns</div>
                        <div class="text-3xl font-bold mono">18</div>
                        <div class="text-xs text-cyan-400 mt-2">6 sending now</div>
                    </div>
                    <div class="glass rounded-xl p-6 stat-card transition cursor-pointer">
                        <div class="text-xs text-gray-400 uppercase tracking-wider mb-2">Emails Sent (30d)</div>
                        <div class="text-3xl font-bold mono">1.2M</div>
                        <div class="text-xs text-green-400 mt-2">98.2% delivered</div>
                    </div>
                    <div class="glass rounded-xl p-6 stat-card transition cursor-pointer">
                        <div class="text-xs text-gray-400 uppercase tracking-wider mb-2">Pipeline Value</div>
                        <div class="text-3xl font-bold mono">$2.4M</div>
                        <div class="text-xs text-purple-400 mt-2">847 opportunities</div>
                    </div>
                    <div class="glass rounded-xl p-6 stat-card transition cursor-pointer glow-cyan">
                        <div class="text-xs text-gray-400 uppercase tracking-wider mb-2">Kernel Health</div>
                        <div class="text-3xl font-bold mono text-green-400">99.9%</div>
                        <div class="text-xs text-green-400 mt-2">All systems nominal</div>
                    </div>
                </div>

                <!-- LAYER GENOME VISUALIZATION -->
                <div class="glass rounded-xl p-6 mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-lg font-bold mono">25-LAYER GENOME STATUS</h2>
                        <div class="text-xs text-gray-400 mono">Real-time layer health</div>
                    </div>
                    <div class="grid grid-cols-25 gap-1" id="genome-grid">
                        <!-- Generated by JS -->
                    </div>
                    <div class="flex justify-between mt-4 text-xs text-gray-500">
                        <div class="flex items-center gap-4">
                            <div class="flex items-center gap-1"><div class="w-3 h-3 bg-green-500 rounded"></div> Healthy</div>
                            <div class="flex items-center gap-1"><div class="w-3 h-3 bg-yellow-500 rounded"></div> Warning</div>
                            <div class="flex items-center gap-1"><div class="w-3 h-3 bg-red-500 rounded"></div> Critical</div>
                        </div>
                        <div>L0: Kernel ‚Üí L25: Economics</div>
                    </div>
                </div>

                <!-- TWO COLUMN LAYOUT -->
                <div class="grid grid-cols-2 gap-8">

                    <!-- RECENT CAMPAIGNS -->
                    <div class="glass rounded-xl p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-lg font-bold mono">ACTIVE CAMPAIGNS</h2>
                            <button class="text-xs text-purple-400 hover:text-purple-300">View All ‚Üí</button>
                        </div>
                        <div class="space-y-4" id="campaign-list">
                            <!-- Generated by JS -->
                        </div>
                    </div>

                    <!-- LEAD PIPELINE -->
                    <div class="glass rounded-xl p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-lg font-bold mono">LEAD PIPELINE</h2>
                            <button class="text-xs text-purple-400 hover:text-purple-300">View All ‚Üí</button>
                        </div>
                        <div class="space-y-4" id="pipeline-stages">
                            <!-- Generated by JS -->
                        </div>
                    </div>
                </div>

                <!-- AUTOMATION FLOWS -->
                <div class="glass rounded-xl p-6 mt-8">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-lg font-bold mono">AUTOMATION WORKFLOWS</h2>
                        <button class="bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg text-sm font-medium transition">+ New Workflow</button>
                    </div>
                    <div class="grid grid-cols-4 gap-4" id="workflow-grid">
                        <!-- Generated by JS -->
                    </div>
                </div>

                <!-- REAL-TIME ACTIVITY -->
                <div class="glass rounded-xl p-6 mt-8">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center gap-3">
                            <div class="w-2 h-2 bg-green-400 rounded-full pulse"></div>
                            <h2 class="text-lg font-bold mono">REAL-TIME ACTIVITY</h2>
                        </div>
                        <div class="text-xs text-gray-400 mono">Live stream</div>
                    </div>
                    <div class="space-y-2 max-h-64 overflow-y-auto" id="activity-feed">
                        <!-- Generated by JS -->
                    </div>
                </div>
            </div>

            <!-- KERNEL MONITOR -->
            <div id="content-kernel" class="layer-content hidden">
                <div class="glass rounded-xl p-6 mb-8">
                    <h2 class="text-xl font-bold mono mb-6">L0: KERNEL INVARIANTS</h2>
                    <div class="grid grid-cols-2 gap-6">
                        <div class="glass-dark rounded-lg p-4">
                            <div class="mono text-sm text-purple-400 mb-2">IV.01: Trust Hierarchy</div>
                            <div class="text-xs text-gray-400">Authority flows: L0 ‚Üí L1 ‚Üí L2, NEVER upward</div>
                            <div class="mt-3 flex items-center gap-2">
                                <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                                <span class="text-xs text-green-400">ENFORCED</span>
                            </div>
                        </div>
                        <div class="glass-dark rounded-lg p-4">
                            <div class="mono text-sm text-purple-400 mb-2">IV.02: Check-Then-Act</div>
                            <div class="text-xs text-gray-400">Every action validated before execution</div>
                            <div class="mt-3 flex items-center gap-2">
                                <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                                <span class="text-xs text-green-400">ENFORCED</span>
                            </div>
                        </div>
                        <div class="glass-dark rounded-lg p-4">
                            <div class="mono text-sm text-purple-400 mb-2">IV.03: Deterministic Boundaries</div>
                            <div class="text-xs text-gray-400">Same input MUST produce same output</div>
                            <div class="mt-3 flex items-center gap-2">
                                <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                                <span class="text-xs text-green-400">ENFORCED</span>
                            </div>
                        </div>
                        <div class="glass-dark rounded-lg p-4">
                            <div class="mono text-sm text-purple-400 mb-2">IV.04: Role-Based Permissions</div>
                            <div class="text-xs text-gray-400">6 roles with explicit permission matrix</div>
                            <div class="mt-3 flex items-center gap-2">
                                <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                                <span class="text-xs text-green-400">ENFORCED</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="glass rounded-xl p-6">
                    <h2 class="text-xl font-bold mono mb-6">ROLE PERMISSION MATRIX</h2>
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="text-left text-gray-400 border-b border-white/10">
                                <th class="pb-3 mono">Role</th>
                                <th class="pb-3 mono">Level</th>
                                <th class="pb-3 mono">Permissions</th>
                            </tr>
                        </thead>
                        <tbody id="role-matrix">
                            <!-- Generated by JS -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- CAMPAIGNS -->
            <div id="content-campaigns" class="layer-content hidden">
                <div class="flex items-center justify-between mb-8">
                    <div></div>
                    <button class="bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg font-medium transition" onclick="showModal('new-campaign')">+ Create Campaign</button>
                </div>
                <div class="glass rounded-xl p-6">
                    <div class="grid grid-cols-3 gap-6" id="all-campaigns">
                        <!-- Generated by JS -->
                    </div>
                </div>
            </div>

            <!-- LEADS -->
            <div id="content-leads" class="layer-content hidden">
                <div class="flex items-center justify-between mb-8">
                    <div></div>
                    <button class="bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg font-medium transition" onclick="showModal('new-lead')">+ Capture Lead</button>
                </div>
                <div class="grid grid-cols-4 gap-4" id="lead-pipeline">
                    <!-- Generated by JS -->
                </div>
            </div>

            <!-- AUTOMATION -->
            <div id="content-automation" class="layer-content hidden">
                <div class="glass rounded-xl p-6 mb-8">
                    <h2 class="text-xl font-bold mono mb-6">WORKFLOW BUILDER</h2>
                    <div class="glass-dark rounded-lg p-8 text-center">
                        <div class="text-6xl mb-4">‚ö°</div>
                        <div class="text-lg font-medium mb-2">Visual Workflow Canvas</div>
                        <div class="text-sm text-gray-400 mb-6">Drag and drop triggers, actions, and conditions</div>
                        <button class="bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg font-medium transition">Open Canvas Builder</button>
                    </div>
                </div>
                <div class="glass rounded-xl p-6">
                    <h2 class="text-xl font-bold mono mb-6">WORKFLOW TEMPLATES</h2>
                    <div class="grid grid-cols-3 gap-4" id="workflow-templates">
                        <!-- Generated by JS -->
                    </div>
                </div>
            </div>

            <!-- ANALYTICS -->
            <div id="content-analytics" class="layer-content hidden">
                <div class="grid grid-cols-4 gap-4 mb-8">
                    <div class="glass rounded-xl p-6">
                        <div class="text-xs text-gray-400 uppercase mb-2">Open Rate</div>
                        <div class="text-3xl font-bold mono">32.4%</div>
                        <div class="text-xs text-green-400 mt-2">‚Üë 4.2% vs avg</div>
                    </div>
                    <div class="glass rounded-xl p-6">
                        <div class="text-xs text-gray-400 uppercase mb-2">Click Rate</div>
                        <div class="text-3xl font-bold mono">8.7%</div>
                        <div class="text-xs text-green-400 mt-2">‚Üë 1.3% vs avg</div>
                    </div>
                    <div class="glass rounded-xl p-6">
                        <div class="text-xs text-gray-400 uppercase mb-2">Conversion</div>
                        <div class="text-3xl font-bold mono">4.2%</div>
                        <div class="text-xs text-yellow-400 mt-2">‚Üí 0.1% vs avg</div>
                    </div>
                    <div class="glass rounded-xl p-6">
                        <div class="text-xs text-gray-400 uppercase mb-2">Revenue</div>
                        <div class="text-3xl font-bold mono">$847K</div>
                        <div class="text-xs text-green-400 mt-2">‚Üë 23% vs LM</div>
                    </div>
                </div>
                <div class="glass rounded-xl p-6">
                    <h2 class="text-xl font-bold mono mb-6">ENGAGEMENT FUNNEL</h2>
                    <div class="h-64 flex items-end justify-around gap-4 px-8">
                        <div class="text-center flex-1">
                            <div class="bg-gradient-to-t from-purple-600 to-purple-400 rounded-t-lg" style="height: 200px;"></div>
                            <div class="text-xs text-gray-400 mt-2">Sent</div>
                            <div class="mono text-sm">1.2M</div>
                        </div>
                        <div class="text-center flex-1">
                            <div class="bg-gradient-to-t from-purple-600 to-purple-400 rounded-t-lg" style="height: 180px;"></div>
                            <div class="text-xs text-gray-400 mt-2">Delivered</div>
                            <div class="mono text-sm">1.18M</div>
                        </div>
                        <div class="text-center flex-1">
                            <div class="bg-gradient-to-t from-purple-600 to-purple-400 rounded-t-lg" style="height: 120px;"></div>
                            <div class="text-xs text-gray-400 mt-2">Opened</div>
                            <div class="mono text-sm">382K</div>
                        </div>
                        <div class="text-center flex-1">
                            <div class="bg-gradient-to-t from-cyan-600 to-cyan-400 rounded-t-lg" style="height: 60px;"></div>
                            <div class="text-xs text-gray-400 mt-2">Clicked</div>
                            <div class="mono text-sm">103K</div>
                        </div>
                        <div class="text-center flex-1">
                            <div class="bg-gradient-to-t from-green-600 to-green-400 rounded-t-lg" style="height: 30px;"></div>
                            <div class="text-xs text-gray-400 mt-2">Converted</div>
                            <div class="mono text-sm">50K</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- GENERIC LAYER PLACEHOLDER -->
            <div id="content-generic" class="layer-content hidden">
                <div class="glass rounded-xl p-12 text-center">
                    <div class="text-6xl mb-6" id="generic-icon">üß¨</div>
                    <h2 class="text-2xl font-bold mono mb-4" id="generic-title">LAYER MODULE</h2>
                    <p class="text-gray-400 mb-8" id="generic-desc">This layer module is part of the 25-layer marketing genome.</p>
                    <div class="inline-flex items-center gap-2 px-4 py-2 glass rounded-lg">
                        <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                        <span class="mono text-sm">KERNEL VALIDATED</span>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- MODAL OVERLAY -->
    <div id="modal-overlay" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 hidden flex items-center justify-center p-8">
        <div class="glass rounded-xl p-8 max-w-lg w-full" id="modal-content">
            <!-- Modal content injected by JS -->
        </div>
    </div>

    <!-- TOAST CONTAINER -->
    <div id="toast-container" class="fixed bottom-8 right-8 z-50 space-y-2"></div>

    <script>
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // MARKTOS KERNEL - ValidKernel Trust Infrastructure
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        // INVARIANT IV.01: Trust Hierarchy
        const TRUST_LEVELS = {
            L0_GOVERNANCE: 0,
            L1_KERNEL: 1,
            L2_PROPOSER: 2
        };

        // INVARIANT IV.04: Role-Based Permissions
        const ROLES = {
            super_admin: { level: 0, permissions: ['*'], color: 'text-purple-400' },
            admin: { level: 1, permissions: ['campaign:*', 'contact:*', 'settings:read'], color: 'text-blue-400' },
            manager: { level: 2, permissions: ['campaign:create', 'campaign:send', 'contact:read'], color: 'text-cyan-400' },
            editor: { level: 3, permissions: ['campaign:create', 'template:edit'], color: 'text-green-400' },
            analyst: { level: 4, permissions: ['report:*', 'analytics:read'], color: 'text-yellow-400' },
            viewer: { level: 5, permissions: ['read:*'], color: 'text-gray-400' }
        };

        // DATA STORE
        const data = {
            campaigns: [
                { id: 1, name: 'Q1 Welcome Series', type: 'automation', status: 'active', sent: 45000, opens: 18000, clicks: 4500 },
                { id: 2, name: 'Product Launch Blast', type: 'broadcast', status: 'active', sent: 120000, opens: 38000, clicks: 9600 },
                { id: 3, name: 'Win-Back Campaign', type: 'automation', status: 'active', sent: 8000, opens: 2400, clicks: 480 },
                { id: 4, name: 'Newsletter Weekly', type: 'recurring', status: 'scheduled', sent: 0, opens: 0, clicks: 0 },
                { id: 5, name: 'Cart Abandonment', type: 'triggered', status: 'active', sent: 12000, opens: 5400, clicks: 1800 },
                { id: 6, name: 'Renewal Reminder', type: 'automation', status: 'draft', sent: 0, opens: 0, clicks: 0 }
            ],
            leads: [
                { id: 1, name: 'Sarah Chen', company: 'TechCorp', value: 25000, stage: 'qualified', score: 85 },
                { id: 2, name: 'Mike Wilson', company: 'StartupXYZ', value: 15000, stage: 'new', score: 45 },
                { id: 3, name: 'Emily Davis', company: 'Enterprise Inc', value: 75000, stage: 'proposal', score: 92 },
                { id: 4, name: 'James Park', company: 'GrowthCo', value: 35000, stage: 'contacted', score: 68 },
                { id: 5, name: 'Lisa Wang', company: 'Digital Agency', value: 18000, stage: 'qualified', score: 78 },
                { id: 6, name: 'David Kim', company: 'SaaS Corp', value: 120000, stage: 'negotiation', score: 95 }
            ],
            workflows: [
                { id: 1, name: 'Welcome Series', trigger: 'signup', steps: 5, active: true },
                { id: 2, name: 'Onboarding Flow', trigger: 'first_login', steps: 8, active: true },
                { id: 3, name: 'Re-engagement', trigger: 'inactive_30d', steps: 4, active: true },
                { id: 4, name: 'Birthday Campaign', trigger: 'birthday', steps: 2, active: true },
                { id: 5, name: 'Post-Purchase', trigger: 'purchase', steps: 6, active: false },
                { id: 6, name: 'Lead Nurture', trigger: 'form_submit', steps: 12, active: true }
            ],
            layers: Array.from({length: 25}, (_, i) => ({
                id: i,
                name: `Layer ${i}`,
                health: Math.random() > 0.1 ? (Math.random() > 0.2 ? 'healthy' : 'warning') : 'critical'
            }))
        };

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // RENDER FUNCTIONS
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        function renderGenomeGrid() {
            const grid = document.getElementById('genome-grid');
            grid.innerHTML = data.layers.map((layer, i) => {
                const colors = { healthy: 'bg-green-500', warning: 'bg-yellow-500', critical: 'bg-red-500' };
                return `<div class="h-8 ${colors[layer.health]} rounded hover:scale-110 transition cursor-pointer" title="Layer ${i}: ${layer.health}"></div>`;
            }).join('');
        }

        function renderCampaigns(containerId, limit) {
            const container = document.getElementById(containerId);
            const campaigns = limit ? data.campaigns.slice(0, limit) : data.campaigns;

            container.innerHTML = campaigns.map(c => {
                const statusColors = { active: 'bg-green-500', scheduled: 'bg-blue-500', draft: 'bg-gray-500' };
                const openRate = c.sent > 0 ? ((c.opens / c.sent) * 100).toFixed(1) : 0;
                const clickRate = c.opens > 0 ? ((c.clicks / c.opens) * 100).toFixed(1) : 0;

                return `
                    <div class="glass-dark rounded-lg p-4 hover:bg-white/10 transition cursor-pointer">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-xs px-2 py-1 rounded ${statusColors[c.status]} text-white uppercase">${c.status}</span>
                            <span class="text-xs text-gray-400 mono">${c.type}</span>
                        </div>
                        <div class="font-medium mb-2">${c.name}</div>
                        <div class="grid grid-cols-3 gap-2 text-center">
                            <div><div class="text-xs text-gray-400">Sent</div><div class="mono text-sm">${(c.sent/1000).toFixed(1)}K</div></div>
                            <div><div class="text-xs text-gray-400">Open</div><div class="mono text-sm">${openRate}%</div></div>
                            <div><div class="text-xs text-gray-400">Click</div><div class="mono text-sm">${clickRate}%</div></div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function renderPipeline(containerId) {
            const container = document.getElementById(containerId);
            const stages = ['new', 'contacted', 'qualified', 'proposal', 'negotiation'];
            const stageNames = { new: 'New Leads', contacted: 'Contacted', qualified: 'Qualified', proposal: 'Proposal', negotiation: 'Negotiation' };

            container.innerHTML = stages.map(stage => {
                const stageLeads = data.leads.filter(l => l.stage === stage);
                const total = stageLeads.reduce((sum, l) => sum + l.value, 0);
                const pct = (stageLeads.length / data.leads.length) * 100;

                return `
                    <div class="mb-4">
                        <div class="flex justify-between text-sm mb-2">
                            <span class="text-gray-400">${stageNames[stage]}</span>
                            <span class="mono">${stageLeads.length} ($${(total/1000).toFixed(0)}K)</span>
                        </div>
                        <div class="h-2 bg-white/10 rounded-full overflow-hidden">
                            <div class="h-full bg-gradient-to-r from-purple-500 to-cyan-400 rounded-full transition-all" style="width: ${pct}%"></div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function renderLeadPipeline() {
            const container = document.getElementById('lead-pipeline');
            const stages = ['new', 'contacted', 'qualified', 'negotiation'];
            const stageNames = { new: 'New', contacted: 'Contacted', qualified: 'Qualified', negotiation: 'Negotiation' };

            container.innerHTML = stages.map(stage => {
                const stageLeads = data.leads.filter(l => l.stage === stage);
                return `
                    <div class="glass rounded-xl p-4">
                        <div class="flex items-center justify-between mb-4 pb-4 border-b border-white/10">
                            <span class="mono text-sm uppercase">${stageNames[stage]}</span>
                            <span class="bg-purple-600 text-xs px-2 py-1 rounded mono">${stageLeads.length}</span>
                        </div>
                        <div class="space-y-3">
                            ${stageLeads.map(l => `
                                <div class="glass-dark rounded-lg p-3 cursor-pointer hover:bg-white/10 transition">
                                    <div class="font-medium text-sm">${l.name}</div>
                                    <div class="text-xs text-gray-400">${l.company}</div>
                                    <div class="flex justify-between mt-2">
                                        <span class="mono text-xs text-green-400">$${(l.value/1000).toFixed(0)}K</span>
                                        <span class="mono text-xs text-purple-400">Score: ${l.score}</span>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function renderWorkflows(containerId, limit) {
            const container = document.getElementById(containerId);
            const workflows = limit ? data.workflows.slice(0, limit) : data.workflows;

            container.innerHTML = workflows.map(w => `
                <div class="glass-dark rounded-lg p-4 hover:bg-white/10 transition cursor-pointer">
                    <div class="flex items-center justify-between mb-3">
                        <div class="w-2 h-2 rounded-full ${w.active ? 'bg-green-400' : 'bg-gray-400'}"></div>
                        <span class="text-xs text-gray-400 mono">${w.steps} steps</span>
                    </div>
                    <div class="font-medium text-sm mb-1">${w.name}</div>
                    <div class="text-xs text-gray-400">Trigger: ${w.trigger}</div>
                </div>
            `).join('');
        }

        function renderWorkflowTemplates() {
            const templates = [
                { name: 'Welcome Series', desc: '5-email onboarding sequence', icon: 'üëã' },
                { name: 'Cart Abandonment', desc: 'Recover lost sales', icon: 'üõí' },
                { name: 'Lead Nurture', desc: '12-week drip campaign', icon: 'üå±' },
                { name: 'Re-engagement', desc: 'Win back inactive contacts', icon: 'üîÑ' },
                { name: 'Post-Purchase', desc: 'Cross-sell and upsell', icon: 'üéÅ' },
                { name: 'Event Reminder', desc: 'Webinar/event sequences', icon: 'üìÖ' }
            ];

            document.getElementById('workflow-templates').innerHTML = templates.map(t => `
                <div class="glass-dark rounded-lg p-6 hover:bg-white/10 transition cursor-pointer text-center">
                    <div class="text-4xl mb-3">${t.icon}</div>
                    <div class="font-medium mb-1">${t.name}</div>
                    <div class="text-xs text-gray-400">${t.desc}</div>
                </div>
            `).join('');
        }

        function renderRoleMatrix() {
            document.getElementById('role-matrix').innerHTML = Object.entries(ROLES).map(([name, role]) => `
                <tr class="border-b border-white/5">
                    <td class="py-3 ${role.color} mono uppercase">${name}</td>
                    <td class="py-3 mono">${role.level}</td>
                    <td class="py-3 text-xs text-gray-400">${role.permissions.join(', ')}</td>
                </tr>
            `).join('');
        }

        function renderActivityFeed() {
            const activities = [
                { type: 'email_open', contact: 'Sarah Chen', campaign: 'Welcome Series', time: '2s ago' },
                { type: 'form_submit', contact: 'New Lead', campaign: 'Landing Page', time: '15s ago' },
                { type: 'email_click', contact: 'Mike Wilson', campaign: 'Product Launch', time: '32s ago' },
                { type: 'conversion', contact: 'Emily Davis', campaign: 'Cart Recovery', time: '1m ago' },
                { type: 'email_open', contact: 'James Park', campaign: 'Newsletter', time: '2m ago' },
                { type: 'unsubscribe', contact: 'Anonymous', campaign: 'Promo Blast', time: '3m ago' },
                { type: 'email_open', contact: 'Lisa Wang', campaign: 'Onboarding', time: '4m ago' },
            ];

            const icons = {
                email_open: 'üìß',
                email_click: 'üñ±Ô∏è',
                form_submit: 'üìù',
                conversion: 'üí∞',
                unsubscribe: 'üö™'
            };

            const colors = {
                email_open: 'text-blue-400',
                email_click: 'text-cyan-400',
                form_submit: 'text-green-400',
                conversion: 'text-purple-400',
                unsubscribe: 'text-red-400'
            };

            document.getElementById('activity-feed').innerHTML = activities.map(a => `
                <div class="flex items-center gap-3 p-2 hover:bg-white/5 rounded transition">
                    <span class="text-lg">${icons[a.type]}</span>
                    <div class="flex-1">
                        <span class="text-sm">${a.contact}</span>
                        <span class="text-gray-500 mx-2">‚Ä¢</span>
                        <span class="text-xs text-gray-400">${a.campaign}</span>
                    </div>
                    <span class="text-xs text-gray-500 mono">${a.time}</span>
                </div>
            `).join('');
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // NAVIGATION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        const layerConfig = {
            dashboard: { title: 'COMMAND CENTER', subtitle: 'Marketing Genome Dashboard' },
            kernel: { title: 'L0: KERNEL MONITOR', subtitle: 'ValidKernel Trust Infrastructure' },
            identity: { title: 'L1: IDENTITY', subtitle: 'Contact Genome Management', icon: 'üë§' },
            segmentation: { title: 'L2: SEGMENTATION', subtitle: 'Audience Gene Splicing', icon: 'üéØ' },
            data: { title: 'L3: DATA ARCHITECTURE', subtitle: 'Unified Profile Proteins', icon: 'üíæ' },
            channels: { title: 'L4: CHANNELS', subtitle: 'Communication Cells', icon: 'üì°' },
            content: { title: 'L5: CONTENT ENGINE', subtitle: 'Template RNA', icon: 'üìù' },
            personalization: { title: 'L6: PERSONALIZATION', subtitle: 'Dynamic Enzymes', icon: '‚ú®' },
            campaigns: { title: 'L7: CAMPAIGNS', subtitle: 'Orchestration Organs' },
            automation: { title: 'L8: AUTOMATION', subtitle: 'Workflow Nervous System' },
            leads: { title: 'L9: LEAD MANAGEMENT', subtitle: 'Circulatory System' },
            scoring: { title: 'L10: LEAD SCORING', subtitle: 'Propensity Scoring Engine', icon: 'üìà' },
            testing: { title: 'L11: A/B TESTING', subtitle: 'Optimization Immune System', icon: 'üß™' },
            analytics: { title: 'L12: ANALYTICS', subtitle: 'Intelligence Brain' },
            compliance: { title: 'L13: COMPLIANCE', subtitle: 'Regulatory System', icon: 'üîí' },
            integrations: { title: 'L14: INTEGRATIONS', subtitle: 'Connective Tissue', icon: 'üîó' },
            deliverability: { title: 'L15: DELIVERABILITY', subtitle: 'Lymphatic System', icon: 'üì¨' },
            audience: { title: 'L16: AUDIENCE INTEL', subtitle: 'Cognitive System', icon: 'üß†' },
            revenue: { title: 'L17: REVENUE INTEL', subtitle: 'Metabolic System', icon: 'üí∞' },
            journeys: { title: 'L19: JOURNEYS', subtitle: 'Choreographic System', icon: 'üó∫Ô∏è' },
            abm: { title: 'L20: ABM', subtitle: 'Strategic System', icon: 'üè¢' },
            experiments: { title: 'L21: EXPERIMENTS', subtitle: 'Laboratory System', icon: 'üî¨' },
            realtime: { title: 'L22: REAL-TIME', subtitle: 'Reactive System', icon: '‚ö°' },
            privacy: { title: 'L23: PRIVACY', subtitle: 'Ethical System', icon: 'üõ°Ô∏è' },
            governance: { title: 'L24: GOVERNANCE', subtitle: 'Administrative System', icon: '‚öôÔ∏è' }
        };

        function showLayer(layerId) {
            // Update nav
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            event?.target?.closest('.nav-item')?.classList.add('active');

            // Hide all content
            document.querySelectorAll('.layer-content').forEach(c => c.classList.add('hidden'));

            // Get config
            const config = layerConfig[layerId] || { title: layerId.toUpperCase(), subtitle: 'Layer Module' };

            // Update header
            document.getElementById('page-title').textContent = config.title;
            document.getElementById('page-subtitle').textContent = config.subtitle;

            // Show appropriate content
            const contentEl = document.getElementById('content-' + layerId);
            if (contentEl) {
                contentEl.classList.remove('hidden');

                // Render specific content
                if (layerId === 'campaigns') renderCampaigns('all-campaigns');
                if (layerId === 'leads') renderLeadPipeline();
                if (layerId === 'automation') renderWorkflowTemplates();
                if (layerId === 'kernel') renderRoleMatrix();
            } else {
                // Show generic layer placeholder
                const generic = document.getElementById('content-generic');
                generic.classList.remove('hidden');
                document.getElementById('generic-icon').textContent = config.icon || 'üß¨';
                document.getElementById('generic-title').textContent = config.title;
                document.getElementById('generic-desc').textContent = `${config.subtitle} - Part of the 25-layer marketing genome.`;
            }
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // MODALS & TOAST
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        function showModal(type) {
            const overlay = document.getElementById('modal-overlay');
            const content = document.getElementById('modal-content');

            if (type === 'new-campaign') {
                content.innerHTML = `
                    <h2 class="text-xl font-bold mono mb-6">CREATE CAMPAIGN</h2>
                    <form onsubmit="createCampaign(event)">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-xs text-gray-400 uppercase mb-2">Campaign Name</label>
                                <input type="text" id="campaign-name" class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 focus:outline-none focus:border-purple-500" required>
                            </div>
                            <div>
                                <label class="block text-xs text-gray-400 uppercase mb-2">Type</label>
                                <select id="campaign-type" class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 focus:outline-none focus:border-purple-500">
                                    <option value="broadcast">Broadcast</option>
                                    <option value="automation">Automation</option>
                                    <option value="triggered">Triggered</option>
                                    <option value="recurring">Recurring</option>
                                </select>
                            </div>
                        </div>
                        <div class="flex gap-4 mt-8">
                            <button type="button" onclick="closeModal()" class="flex-1 py-3 border border-white/20 rounded-lg hover:bg-white/10 transition">Cancel</button>
                            <button type="submit" class="flex-1 py-3 bg-purple-600 rounded-lg hover:bg-purple-700 transition font-medium">Create</button>
                        </div>
                    </form>
                `;
            }

            overlay.classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('modal-overlay').classList.add('hidden');
        }

        function showToast(message, type = 'success') {
            const container = document.getElementById('toast-container');
            const colors = { success: 'bg-green-600', error: 'bg-red-600', info: 'bg-purple-600' };
            const toast = document.createElement('div');
            toast.className = `${colors[type]} px-6 py-3 rounded-lg shadow-lg text-sm font-medium animate-pulse`;
            toast.textContent = message;
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        function createCampaign(e) {
            e.preventDefault();
            const name = document.getElementById('campaign-name').value;
            const type = document.getElementById('campaign-type').value;
            data.campaigns.unshift({ id: Date.now(), name, type, status: 'draft', sent: 0, opens: 0, clicks: 0 });
            closeModal();
            renderCampaigns('campaign-list', 4);
            showToast(`Campaign "${name}" created`);
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // INITIALIZATION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        document.addEventListener('DOMContentLoaded', () => {
            renderGenomeGrid();
            renderCampaigns('campaign-list', 4);
            renderPipeline('pipeline-stages');
            renderWorkflows('workflow-grid', 4);
            renderActivityFeed();

            console.log('[MARKTOS] Kernel initialized');
            console.log('[MARKTOS] Trust Level: L0_GOVERNANCE');
            console.log('[MARKTOS] 25-layer genome active');
        });

        // Close modal on overlay click
        document.getElementById('modal-overlay').addEventListener('click', e => {
            if (e.target.id === 'modal-overlay') closeModal();
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', e => {
            if (e.key === 'Escape') closeModal();
        });
    </script>

</body>
</html>
